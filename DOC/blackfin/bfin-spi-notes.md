SPI 片选行为：

在 Blackfin 片上 SPI 外设中，CPHA 位与一些逻辑相关，决定从机选择线是由硬件控制（CPHA = 0）还是由软件控制（CPHA = 1）。然而，Linux SPI 总线驱动程序假设从机选择始终由软件控制，并在整个 SPI 传输期间保持断言状态。 - 而不仅仅是`bits_per_word`的持续时间。

在大多数情况下，您可以使用 SPI MODE_3 而不是 MODE_0 来解决此行为问题。如果您的相关 SPI 从机设备需要 SPI MODE_0 或 MODE_2 时序，则可以使用 GPIO 控制的 SPI 从机选择选项。在这种情况下，您应该为所有从机使用基于 GPIO 的 CS，而不仅仅是使用模式 0 或 2 的从机，以确保正确的 CS 切换行为。

您甚至可以使用其外设角色为 SSEL 的同一引脚，但将其用作 GPIO 代替。