# S3C24XX CPUfreq 支持

=======================

# 简介

------------

S3C24XX 系列支持多种节能系统，例如能够改变核心、内存和外设的工作频率。核心控制通过 CPUFreq 驱动程序导出，该驱动程序对核心的运行速率有多种不同的手动或自动控制方式。

根据特定的 CPU 和时钟安排方式，有两种形式的驱动程序。这里记录的是第一种实现方式，即使用单个 PLL 通过一系列分频器和复用器为 ARM、内存和外设提供时钟。还有一种较新的版本，其中 ARM 核心有单独的 PLL 和时钟分频器，作为单独的驱动程序提供。

# 布局

------

代码核心管理特定于 CPU 的驱动程序、它们需要注册的数据以及与通用驱动程序/cpufreq 系统的接口。每个 CPU 注册一个驱动程序来控制 PLL、时钟分频器以及与之相关的任何其他内容。任何想要使用此框架的电路板都需要提供至少基本的详细信息，说明所需的内容。如果提供了所有必要的数据，核心将在初始化时向 drivers/cpufreq 注册。

# CPU 支持

-----------

每个 CPU 的支持取决于 SoC 提供的设施和驱动程序，因为每个设备都有不同的 PLL 和时钟链与之相关。

# 慢模式

---------

完全关闭 PLL 且系统由外部晶体输入提供时钟的 SLOW 模式目前不受支持。

# sysfs

-----

核心代码通过 sysfs 在 devices/system/cpu/cpu0/arch-freq 目录中导出额外的信息。

# 电路板支持

-------------

每个想要使用 cpufreq 代码的电路板都必须向核心驱动程序注册一些基本信息，以提供有关电路板所需内容以及对其施加的任何限制的信息。

电路板需要提供有关是否需要更改 IO 库时序、任何最大频率限制以及有关 SDRAM 刷新速率的信息。

# 文档作者

---------------

Ben Dooks，版权 2009 年 Simtec Electronics

根据 GPLv2 许可